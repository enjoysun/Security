#### zuul组成网关配置  

> 1.构建网关服务启动类需要注册至eureka，且使用EnableZuulProxy注解代理。  
2.配置路由zuul配置文件，配置解释如下:  

```properties
spring.application.name=getway-zuul

server.port=8060

eureka.client.service-url.defaultZone=http://eureka01:8081/eureka/,http://eureka02:8082/eureka/,http://eureka03:8083/eureka/

# 网关设置要注意service_id和url，这两个设置的请求过期设置也是不同的
# /api/** 准守了ant风格
#                   ?:匹配单个任意字符(api/c,api/b)对于api/cc等则不予匹配
#                   *：匹配任意数量字符(该设置无法进行层级匹配api/aa/cc等)
#                   **：推荐使用  (匹配任意字符)
#zuul.routes.CONSUMER-FEIGN=/api/feign/**
#zuul.routes.CONSUMER-RIBBON=/api/ribbon/**

## path定义了路由映射规则，service-id指定了路由映射地址  
# 如本案例映射至CONSUMER-FEIGN实例服务，该服务暴露地址**/login?msg=XX映射为**/api/feign/login?msg=XX  
# 注:匹配顺序为声明顺序(如下配置先匹配feign在匹配ribbon)
zuul.routes.feign-consumer.path=/api/feign/**
zuul.routes.feign-consumer.service-id=CONSUMER-FEIGN

zuul.routes.ribbon-consumer.path=/api/ribbon/**
zuul.routes.ribbon-consumer.service-id=CONSUMER-RIBBON

# 跳过该服务，不为其创建映射规则(当业务并不想将内部某些服务暴露时)
zuul.ignored-services=SERVICE-CLIENT
# 对上配置细致化定制，细致到不想暴露服务下的接口则使用此规则
zuul.ignored-patterns=/**/interface-name/**  

# 统一增加路由规则（路由访问更改为**/myapi/api/feign/**）  
zuul.prefix=/myapi
```   

#### zuul也可处理业务逻辑  

> **zuul一般作为服务路由网关，即将客户端请求按照路由规则映射到相应的内部服务地址。但zuul本身也是springboot项目，也可以处理业务逻辑，
即当zuul工程含有业务处理路由该如何映射到自己内部?**   

```java
// zuul含有该内部业务路由
@RestController
public class HelloController {
    @RequestMapping("/local")
    public String hello() {
        return "hello api gateway";
    }
}
``` 

```properties
# 针对zuul工程内部业务路由映射
zuul.routes.local.path=/local/**
zuul.routes.local.url=forword:/local
```  

#### 网关路由失败配置  

> 对应每一个service——id都应该配置一个组件类来实现失败回调。  
参考com.myou.spring.cloud.zuul.Config.WebLoginFallbackProvider类  
该类实现了服务feign的路由失败逻辑回调处理，可供参考

#### zuul拦截过滤
